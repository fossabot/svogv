<div [class]="this.uischema.formGroup"  
     [formGroup]="userForm" *ngIf="type != 'hidden'"
     [ngClass]="{ 'has-danger': !userForm.controls[name].valid && userForm.controls[name].touched }">
  <label 
    [class]="this.uischema.formLabel"  
    [attr.for]="name" 
    [attr.title]="tooltip" >{{ label }}{{ labelDivider }} </label>
  <div [ngClass]="{ 'col-md-7 col-sm-10': inline }">
    <textarea *ngIf="type == 'textarea'" 
            [class]="this.uischema.formControl" 
            [id]="name" 
            [readOnly]='readonly'
            [formControlName]="name" 
            [attr.rows]="getParams('rows')" 
            [attr.cols]="getParams('cols')">
    </textarea>
    <select *ngIf="type == 'enum' && enumValues" [class]="this.uischema.formControl" [id]="name" 
          [formControlName]="name" [disabled]='readonly'>
      <option *ngFor="let option of enumValues" [value]="option.key">{{option.val}}</option>
    </select>
    <select *ngIf="type == 'list' && listValues" [class]="this.uischema.formControl" [id]="name" 
          [formControlName]="name" [disabled]='readonly'>
      <option *ngFor="let option of listValues" [value]="option.key">{{option.val}}</option>
    </select>
    <input *ngIf="type == 'range'" type="range" 
        [class]="this.uischema.formControl" 
        [placeholder]="waterMark" 
        [attr.minvalue]="fromValue" 
        [attr.maxvalue]="toValue" 
        [attr.min]="fromValue" 
        [attr.max]="toValue" 
        [id]="name" 
        [formControlName]="name" 
        [title]="tooltip" />
    <input *ngIf="type == 'calendar'" type="date"
        [class]="this.uischema.formControl"  
        [placeholder]="waterMark" 
        [readOnly]='readonly'
        [id]="name" 
        [formControlName]="name" 
        [title]="tooltip" />
    <input *ngIf="type == 'number'" type="number" 
        [class]="this.uischema.formControl"  
        [placeholder]="waterMark" 
        [readOnly]='readonly'
        [id]="name" 
        [formControlName]="name" 
        [title]="tooltip" />
    <input *ngIf="type == 'boolean'" type="checkbox" 
        [class]="this.uischema.formControl"  
        [readOnly]='readonly'
        [id]="name" 
        [formControlName]="name" 
        [title]="tooltip" />
    <label *ngIf="type == 'boolean'" [attr.for]="name"></label>
    <input *ngIf="type == 'text' || type == ''" [placeholder]="waterMark" 
        [readOnly]='readonly'
        type="text" 
        [class]="this.uischema.formControl"  
        [id]="name" [formControlName]="name" />
    <span 
        [class]="this.uischema.formValidationWarningIcon"      
        [hidden]="userForm.controls[name].valid || userForm.controls[name].pristine"></span>
    <small  
        [class]="this.uischema.formValidationWarningText"      
        [hidden]="userForm.controls[name].valid || userForm.controls[name].pristine">
        <span *ngFor="let error of errors">{{ userForm.controls[name].messages[error] }}</span>
    </small>
  </div>
</div>
<div [formGroup]="userForm">
  <input *ngIf="type == 'hidden'" [id]="name" [formControlName]="name" type="hidden" />
</div>